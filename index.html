<!DOCTYPE html><html lang="pt-br"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ativar Pixel TikTok</title>
    <link rel="shortcut icon" href="images/favicon.png" type="image/x-icon">
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: #f4f4f4;
        }
        .container {
            text-align: center;
            background: white;
            padding: 20px 40px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 300px;
        }
        h2 {
            font-size: 24px;
            margin-bottom: 20px;
        }
        #pixelCode {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 4px;
            text-align: center;
        }
        button {
            width: 100%;
            padding: 12px;
            margin-top: 10px;
            font-size: 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .add-to-cart { background-color: #FF9800; color: white; }
        .initiate-checkout { background-color: #2196F3; color: white; }
        .add-payment-info { background-color: #8E44AD; color: white; }
        .complete-payment { background-color: #4CAF50; color: white; }
        .all-events { background-color: #f44336; color: white; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Ative o Pixel do TikTok</h2>
        <input type="text" id="pixelCode" placeholder="Insira o código do Pixel">
        <button onclick="iniciarPixel()">Ativar Pixel</button>
        <button class="add-to-cart" onclick="dispararAddToCart()">Add to Cart</button>
        <button class="initiate-checkout" onclick="dispararInitiateCheckout()">Initiate Checkout</button>
        <button class="add-payment-info" onclick="dispararAddPaymentInfo()">Add Payment Info</button>
        <button class="complete-payment" onclick="dispararCompletePayment()">Complete Payment</button>
        <button class="all-events" onclick="enviarTodosEventosPadroes()">Enviar Todos Eventos Padrões</button>
    </div>

    <!-- TikTok Pixel Code Start -->
    <script>
        function iniciarPixel() {
            const pixelCode = document.getElementById('pixelCode').value;
            if (pixelCode) {
                !function (w, d, t) {
                    w.TiktokAnalyticsObject = t; var ttq = w[t] = w[t] || [];
                    ttq.methods = ["page", "track", "identify", "instances", "debug", "on", "off", "once", "ready", "alias", "group", "enableCookie", "disableCookie", "holdConsent", "revokeConsent", "grantConsent"],
                    ttq.setAndDefer = function (t, e) { t[e] = function () { t.push([e].concat(Array.prototype.slice.call(arguments, 0))) } };
                    for (var i = 0; i < ttq.methods.length; i++) ttq.setAndDefer(ttq, ttq.methods[i]);
                    ttq.instance = function (t) {
                        for (var e = ttq._i[t] || [], n = 0; n < ttq.methods.length; n++) ttq.setAndDefer(e, ttq.methods[n]);
                        return e
                    }, ttq.load = function (e, n) {
                        var r = "https://analytics.tiktok.com/i18n/pixel/events.js", o = n && n.partner;
                        ttq._i = ttq._i || {}, ttq._i[e] = [], ttq._i[e]._u = r, ttq._t = ttq._t || {}, ttq._t[e] = +new Date, ttq._o = ttq._o || {}, ttq._o[e] = n || {};
                        n = document.createElement("script"), n.type = "text/javascript", n.async = !0, n.src = r + "?sdkid=" + e + "&lib=" + t;
                        e = document.getElementsByTagName("script")[0]; e.parentNode.insertBefore(n, e)
                    };
                    ttq.load(pixelCode);
                    ttq.page();
                }(window, document, 'ttq');
                alert("Pixel ativado com sucesso!");
            } else {
                alert("Por favor, insira o código do Pixel.");
            }
        }

        function dispararAddToCart() {
            if (window.ttq) {
                ttq.track('AddToCart');
                alert("Evento 'Add to Cart' disparado!");
            } else {
                alert("Por favor, ative o Pixel primeiro.");
            }
        }

        function dispararInitiateCheckout() {
            if (window.ttq) {
                ttq.track('InitiateCheckout');
                alert("Evento 'Initiate Checkout' disparado!");
            } else {
                alert("Por favor, ative o Pixel primeiro.");
            }
        }

        function dispararAddPaymentInfo() {
            if (window.ttq) {
                ttq.track('AddPaymentInfo');
                alert("Evento 'Add Payment Info' disparado!");
            } else {
                alert("Por favor, ative o Pixel primeiro.");
            }
        }

        function dispararCompletePayment() {
    if (window.ttq) {
        const valorAleatorio = (Math.random() * 100 + 1).toFixed(2);
        ttq.track('CompletePayment', { quantity: 1, description: "activate", content_type: "product", content_name: "ActivatePixel", currency: "BRL", value: valorAleatorio });
        alert(`Evento 'Complete Payment' disparado com valor de R$${valorAleatorio}`);
    } else {
        alert("Por favor, ative o Pixel primeiro.");
    }
}

        function enviarTodosEventosPadroes() {
            if (window.ttq) {
                const events = [
                    { name: 'AddToCart', params: {} },
                    { name: 'InitiateCheckout', params: {} },
                    { name: 'AddPaymentInfo', params: {} },
                    { name: 'CompletePayment', params: { quantity: 1, description: "activate", content_type: "product", content_name: "ActivatePixel", currency: "BRL", value: (Math.random() * 100 + 1).toFixed(2) }},
                    { name: 'CompleteRegistration', params: {} },
                    { name: 'Contact', params: {} },
                    { name: 'CustomizeProduct', params: {} },
                    { name: 'Download', params: {} },
                    { name: 'FindLocation', params: {} },
                    { name: 'PlaceAnOrder', params: { currency: 'BRL', value: 75.00 } },
                    { name: 'Schedule', params: {} },
                    { name: 'Search', params: { query: 'exemplo de pesquisa' } },
                    { name: 'SubmitForm', params: {} },
                    { name: 'Subscribe', params: {} },
                    { name: 'ViewContent', params: { currency: 'BRL', value: 49.99 } }
                ];

                let index = 0;
                alert("Aguarde 15 segundos! "); // Alerta que aparece apenas uma vez

                const triggerNextEvent = () => {
                    if (index < events.length) {
                        const event = events[index];
                        ttq.track(event.name, event.params);
                        index++;
                        setTimeout(triggerNextEvent, 1000); // Espera 1 segundo antes de disparar o próximo evento
                    } else {
                        alert("Todos os eventos padrão foram enviados com sucesso!");
                    }
                };

                triggerNextEvent(); // Inicia o disparo dos eventos
            } else {
                alert("Pixel não ativado. Por favor, ative o pixel antes de enviar os eventos.");
            }
        }
    </script>
    <!-- TikTok Pixel Code End -->


</body></html>